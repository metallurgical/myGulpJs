function delete_row(e){var s=$(current_table.selector+" tbody tr[entity_id="+e+"]").get(0);current_table.fnDeleteRow(current_table.fnGetPosition(s))}function change_validation_position(e){$(e).validate({errorPlacement:function(e,s){s.parent().find(".help-block").remove(),s.parent().toggleClass("has-error",0!=e.html().length),s.parent().toggleClass("has-success",0==e.html().length),0!=e.html().length?s.after('<span class="help-block"><span class="glyphicon glyphicon-remove form-control-feedback"></span><label class="has-error">'+e.html()+"</label></span>"):(s.hasClass("required")||s.hasClass("email"))&&s.after('<span class="help-block"><span class="glyphicon glyphicon-ok form-control-feedback"></span></span>')},success:function(){}})}function submit_form(e,s,t){s=s||"#save_result",$(s).html('<img src="'+t+'" />'),change_validation_position(e),$(e).ajaxSubmit({beforeSubmit:function(e,t){return 1==$(t).valid()?!0:($(s).html(""),!1)},target:s})}function submit_form_with_files(e,s){s=s||"#save_result",$(s).html('<img src="images/ajax-loader.gif" />'),change_validation_position(e),$(e).ajaxSubmit({beforeSubmit:function(e,t){return 1==$(t).valid()?!0:($(s).html(""),!1)},dataType:"json",success:function(e){if(e.error_message)return void $(s).html('<div class="alert alert-error"><a class="close" data-dismiss="alert" href="#">&times;</a>'+e.error_message+"</div>");if($(s).html('<div class="alert alert-success"><a class="close" data-dismiss="alert" href="#">&times;</a>'+e.message+"</div>"),e.new_url)return void setTimeout(function(){location.href=e.new_url},1500);if(e.html&&$(s).html(e.html),void 0!=e.files.success){link=void 0==e.files.block_link?!0:!1;for(var t in e.files.success)file_txt='<li id="attachment_'+e.files.success[t].id+'"><button type="button" onclick="remove_attachment('+e.files.success[t].id+')" class="btn btn-mini margin_right_10"><i class="icon-remove"></i></button>',link&&(file_txt+='<a target="_blank" href="attachments/download/'+e.files.success[t].id+'">'),file_txt+='<img src="images/files/'+e.files.success[t].ext+'.png" class="hidden-phone"/><span class="wrapword">'+e.files.success[t].name+"</span>",link&&(file_txt+="</a>"),file_txt+="</li>",$("#attachments_area").append(file_txt)}if(void 0!=e.files.failed){$(s).html('<div class="alert alert-error"><a class="close" data-dismiss="alert" href="#">&times;</a></div>');for(var t in e.files.failed)$(s+" .alert-error").append("<div>"+e.files.failed[t]+"</div>")}return $("#attachments_input").val(""),e}})}function init_icheck(){$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"})}var current_table;